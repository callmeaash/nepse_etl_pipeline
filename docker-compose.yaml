services:
  airflow:
    image: nepseetlpipeline-airflow:latest
    volumes:
      - ./dags:/opt/airflow/dags
      - ./pipeline_utils:/opt/airflow/pipeline_utils
      - ./clean_data:/opt/airflow/clean_data
      - ./stock_names_data:/opt/airflow/stock_names_data
      - ./.env:/opt/airflow/.env
      - ./etl_pipeline.py:/opt/airflow/etl_pipeline.py
    ports:
      - 8080:8080
    command: airflow standalone
    environment:
      - PYTHONPATH=/opt/airflow